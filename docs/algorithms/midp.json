{
  "guid": "midp",
  "name": "MIDI Player",
  "description": "This algorithm plays standard MIDI files from the MicroSD card, outputting the MIDI messages and converting them to CVs and gates. It uses an internal clock (based on the file's tempo if specified) or syncs to analogue clocks or incoming MIDI clock. Optionally processes live MIDI. Supports up to 24 tracks per MIDI file, with looping enabled by default unless '_ONESHOT' is included in the filename.",
  "categories": [
    "MIDI",
    "Sequencing",
    "Audio/MIDI Conversion",
    "File Player"
  ],
  "short_description": "Plays MIDI files from the MicroSD card",
  "use_cases": [
    "Playing back MIDI sequences for modular synths",
    "Generating CV/gate outputs from MIDI files",
    "Sequencing with internal or external clock sources",
    "Drum machine functionality via MIDI drum tracks"
  ],
  "gui_description": "Displays transport position (bars, beats, sixteenths), file tempo, length in bars, and a progress bar. Shows track activity indicators and channel activity. For 'Track mode' parameters, displays track name and recent MIDI messages.",
  "specifications": [
    {
      "name": "Polyphony",
      "description": "Supports up to 24 tracks per MIDI file"
    },
    {
      "name": "File Format Support",
      "description": "Standard MIDI files (see MicroSD card documentation)"
    }
  ],
  "parameters": [
    {
      "name": "Folder",
      "default": "",
      "type": "string",
      "is_bus": false
    },
    {
      "name": "File",
      "default": "",
      "type": "string",
      "is_bus": false
    },
    {
      "name": "Play",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum",
      "is_bus": false
    },
    {
      "name": "Start from bar",
      "min": 1,
      "max": 256,
      "default": 1,
      "type": "enum",
      "is_bus": false
    },
    {
      "name": "File change",
      "min": 0,
      "max": 2,
      "default": 0,
      "type": "enum",
      "is_bus": false
    },
    {
      "name": "File restart",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum",
      "is_bus": false
    },
    {
      "name": "Track mode 1-24",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum",
      "is_bus": false
    },
    {
      "name": "1 MIDI channel",
      "min": 1,
      "max": 16,
      "default": 1,
      "type": "enum",
      "is_bus": false
    },
    {
      "name": "2 MIDI channel",
      "min": 1,
      "max": 16,
      "default": 2,
      "type": "enum",
      "is_bus": false
    },
    {
      "name": "3 MIDI channel",
      "min": 1,
      "max": 16,
      "default": 3,
      "type": "enum",
      "is_bus": false
    },
    {
      "name": "4 MIDI channel",
      "min": 1,
      "max": 16,
      "default": 4,
      "type": "enum",
      "is_bus": false
    },
    {
      "name": "Drum first note",
      "min": 0,
      "max": 127,
      "default": 36,
      "type": "enum"
    },
    {
      "name": "Drum channel",
      "min": 0,
      "max": 16,
      "default": 0,
      "type": "enum"
    },
    {
      "name": "Trigger length",
      "min": 1,
      "max": 100,
      "default": 10,
      "type": "enum",
      "is_bus": false
    },
    {
      "name": "Convert live MIDI",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum"
    },
    {
      "name": "Clock multiplier",
      "min": 0,
      "max": 4,
      "default": 0,
      "type": "enum"
    },
    {
      "name": "Reset mode",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum"
    },
    {
      "name": "Follow MIDI clock",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum"
    },
    {
      "name": "Output MIDI clock",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum"
    },
    {
      "name": "Output to breakout",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum",
      "is_bus": false
    },
    {
      "name": "Output to Select Bus",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum"
    },
    {
      "name": "Output to USB",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum"
    },
    {
      "name": "Output to internal",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum"
    }
  ],
  "input_ports": [
    {
      "name": "Clock input",
      "description": "Bus used as the clock input for synchronization."
    },
    {
      "name": "Reset input",
      "description": "Bus used to reset or stop playback."
    },
    {
      "name": "Live MIDI",
      "description": "Input for real-time MIDI messages that will be converted to CV/gate outputs if enabled."
    },
    {
      "name": "Clock input",
      "description": ""
    },
    {
      "name": "Reset input",
      "description": ""
    }
  ],
  "output_ports": [
    {
      "name": "1 Pitch output (Bus)",
      "description": "CV output bus for pitch data from MIDI channel 1."
    },
    {
      "name": "2 Pitch output (Bus)",
      "description": "CV output bus for pitch data from MIDI channel 2."
    },
    {
      "name": "3 Pitch output (Bus)",
      "description": "CV output bus for pitch data from MIDI channel 3."
    },
    {
      "name": "4 Pitch output (Bus)",
      "description": "CV output bus for pitch data from MIDI channel 4."
    },
    {
      "name": "1 Gate output (Bus)",
      "description": "Gate output bus for note events from MIDI channel 1."
    },
    {
      "name": "2 Gate output (Bus)",
      "description": "Gate output bus for note events from MIDI channel 2."
    },
    {
      "name": "3 Gate output (Bus)",
      "description": "Gate output bus for note events from MIDI channel 3."
    },
    {
      "name": "4 Gate output (Bus)",
      "description": "Gate output bus for note events from MIDI channel 4."
    },
    {
      "name": "MIDI Breakout",
      "description": "Outputs raw MIDI messages to the breakout port if enabled."
    },
    {
      "name": "Select Bus (MIDI)",
      "description": "Outputs MIDI data to the Select Bus if enabled."
    },
    {
      "name": "USB (MIDI)",
      "description": "Outputs MIDI data via USB if enabled."
    },
    {
      "name": "Internal MIDI",
      "description": "Sends MIDI messages internally to other algorithms if enabled."
    },
    {
      "name": "1 Pitch output",
      "description": ""
    },
    {
      "name": "2 Pitch output",
      "description": ""
    },
    {
      "name": "3 Pitch output",
      "description": ""
    },
    {
      "name": "4 Pitch output",
      "description": ""
    },
    {
      "name": "1 Gate output",
      "description": ""
    },
    {
      "name": "2 Gate output",
      "description": ""
    },
    {
      "name": "3 Gate output",
      "description": ""
    },
    {
      "name": "4 Gate output",
      "description": ""
    }
  ]
}