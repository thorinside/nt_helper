{
  "guid": "envq",
  "name": "Envelope (DAHDSR)",
  "description": "This algorithm is based on the disting EX 'Quad Envelope' algorithm and serves as a complex DAHDSR envelope generator. It features various trigger modes including gated, triggered (oneshot), looping, and clock synchronization options using analogue pulses or MIDI. The envelopes separate shape definitions from generators, allowing shared shapes across multiple envelopes for efficient editing. For example, in polyphonic synths, four envelopes can share the same shape to change attack times uniformly across all voices.",
  "categories": [
    "Modulation",
    "Envelope Generator",
    "DAHDSR",
    "Clock Synchronization",
    "Polyphonic"
  ],
  "short_description": "A versatile envelope generator with shared shapes, clock sync, and multiple trigger modes.",
  "use_cases": [
    "Polyphonic synth modulation",
    "Modular synthesis patch design",
    "MIDI-triggered effects",
    "Clock-synchronized rhythmic envelopes"
  ],
  "gui_description": "The GUI displays a graphical representation of the envelope(s). When editing shape parameters, the relevant section (e.g., attack) is highlighted across all shared envelopes. Otherwise, it shows the current envelope with an overlaid horizontal line indicating output level and highlights the active stage.",
  "specifications": [
    {
      "name": "Channels",
      "min": 1,
      "max": 8
    },
    {
      "name": "Shapes",
      "min": 1,
      "max": 8
    }
  ],
  "parameters": [
    {
      "name": "Enable",
      "type": "toggle",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "Shape",
      "min": 1,
      "max": 8,
      "default": 1,
      "type": "enum",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "Trigger mode",
      "min": 0,
      "max": 5,
      "default": 0,
      "type": "enum",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "Clock mode",
      "min": 0,
      "max": 3,
      "default": 0,
      "type": "enum",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "Clock source",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "MIDI divisor",
      "min": 0,
      "max": 19,
      "default": 4,
      "type": "enum",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "Scale",
      "min": -10.0,
      "max": 10.0,
      "default": 8.0,
      "type": "folder",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "Offset",
      "min": -10.0,
      "max": 10.0,
      "default": 0.0,
      "type": "folder",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "Vel -> scale",
      "min": 0,
      "max": 100,
      "default": 100,
      "type": "folder",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "Vel -> attack",
      "min": -100,
      "max": 100,
      "default": 0,
      "type": "folder",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "Output mode",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": true
    },
    {
      "name": "End of cycle mode",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": true
    },
    {
      "name": "Active mode",
      "min": 0,
      "max": 1,
      "default": 0,
      "type": "enum",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": true
    },
    {
      "name": "MIDI channel",
      "min": 0,
      "max": 16,
      "default": 0,
      "type": "enum",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "I2C channel",
      "min": 0,
      "max": 255,
      "default": 1,
      "type": "enum",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "Note number",
      "min": -1,
      "max": 127,
      "default": -1,
      "type": "enum",
      "is_per_channel": true,
      "is_common": false,
      "is_bus": false
    },
    {
      "name": "Delay",
      "min": 0,
      "max": 1000,
      "default": 0,
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Attack",
      "min": 0,
      "max": 1000,
      "default": 500,
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Hold",
      "min": 0,
      "max": 1000,
      "default": 0,
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Decay",
      "min": 0,
      "max": 1000,
      "default": 500,
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Sustain",
      "min": -100.0,
      "max": 100.0,
      "default": 0.0,
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Release",
      "min": 0,
      "max": 1000,
      "default": 500,
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Attack shape",
      "min": 0,
      "max": 127,
      "default": 64,
      "type": "enum",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Decay shape",
      "min": 0,
      "max": 127,
      "default": 64,
      "type": "enum",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Range",
      "min": 0,
      "max": 4,
      "default": 2,
      "type": "enum",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    }
  ],
  "input_ports": [
    {
      "name": "Trigger input",
      "description": "Bus used for the envelope's trigger input."
    },
    {
      "name": "Clock input",
      "description": "Bus used for the envelope's clock input."
    },
    {
      "name": "Trigger input",
      "description": ""
    },
    {
      "name": "Clock input",
      "description": ""
    }
  ],
  "output_ports": [
    {
      "name": "Output",
      "description": "Bus used for the envelope's output."
    },
    {
      "name": "End of cycle output",
      "description": "Outputs a 5V trigger when the envelope becomes idle.",
      "busIdRef": "End of cycle output"
    },
    {
      "name": "Active output",
      "description": "Outputs 5V while the envelope is not idle."
    },
    {
      "name": "Output",
      "description": ""
    },
    {
      "name": "End of cycle output",
      "description": ""
    },
    {
      "name": "Active output",
      "description": ""
    }
  ]
}