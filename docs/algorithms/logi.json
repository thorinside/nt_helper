{
  "guid": "logi",
  "name": "Logic",
  "description": "This algorithm is based on the disting mk4 algorithm of the same name and performs various logical operations. Each channel of the algorithm is independent and operates on its X & Y inputs with available operations including AND, OR, XOR, NAND, NOR, XNOR, SR flip-flop, D flip-flop, greater than (>), and less than (<). The SR flip-flop is set high by a rising edge on input X and cleared low by a rising edge on input Y. The D flip-flop takes the level of input X on a rising edge from input Y. Global parameters control the threshold (default 1V, range 0-10V) and hysteresis (default 0.5V, range 0-10V) of input comparators generating logic signals from arbitrary CVs. Complex operations can be constructed by chaining channels internally, where outputs of one channel feed inputs of another.",
  "categories": [
    "utility",
    "logic",
    "routing"
  ],
  "short_description": "Performs various logical operations",
  "use_cases": [
    "Boolean logic processing in modular synth environments",
    "CV-to-logic signal conversion with adjustable thresholds and hysteresis",
    "Creating complex gate/trigger sequences using flip-flops (SR, D) and comparators (>/<)",
    "Chaining internal channels for multi-stage logical operations"
  ],
  "gui_description": "The display shows the various logical operations being performed. Disabled channels are grayed out. Inverted inputs and outputs are indicated with a horizontal line (bar) above the inverted quantity using standard logic notation.",
  "specifications": [
    {
      "name": "Channels",
      "min": 1,
      "max": 8
    }
  ],
  "parameters": [
    {
      "name": "Threshold",
      "default": 1.0,
      "description": "Sets the input threshold. Signals above this voltage are treated as a logic '1'/true.",
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Threshold_min",
      "min": 0.0,
      "max": 10.0,
      "default": 1.0,
      "description": "",
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Threshold_unit",
      "unit": "V",
      "default": 1.0,
      "description": "",
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Hysteresis",
      "min": 0.0,
      "max": 10.0,
      "default": 0.5,
      "description": "Sets the input hysteresis. Once over the threshold, signals must fall by this amount before being treated as a logic '0'/false.",
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Hysteresis_min",
      "min": 0.0,
      "max": 10.0,
      "default": 0.5,
      "description": "",
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Hysteresis_unit",
      "unit": "V",
      "default": 0.5,
      "description": "",
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Output_true",
      "min": -10.0,
      "max": 10.0,
      "default": 5.0,
      "description": "The output voltage for logic '1'/true. Logic '0'/false is always output as 0V.",
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Output_true_min",
      "min": -10.0,
      "max": 10.0,
      "default": 5.0,
      "description": "",
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Output_true_unit",
      "unit": "V",
      "default": 5.0,
      "description": "",
      "type": "folder",
      "is_per_channel": false,
      "is_common": true,
      "is_bus": false
    },
    {
      "name": "Enable",
      "min": 0,
      "max": 1,
      "default": 0,
      "description": "Enables the channel.",
      "type": "toggle"
    },
    {
      "name": "Operation",
      "min": 0,
      "max": 9,
      "default": 0,
      "description": "Selects the logical operation from the table above: AND (0), OR (1), XOR (2), NAND (3), NOR (4), XNOR (5), SR flip-flop (6), D flip-flop (7), greater than (>)(8), less than (<)(9).",
      "type": "enum"
    },
    {
      "name": "Invert_X",
      "min": 0,
      "max": 1,
      "default": 0,
      "description": "Inverts the X input (before it is used by the logical operation).",
      "type": "toggle"
    },
    {
      "name": "Invert_Y",
      "min": 0,
      "max": 1,
      "default": 0,
      "description": "Inverts the Y input (before it is used by the logical operation).",
      "type": "toggle"
    },
    {
      "name": "Invert_output",
      "min": 0,
      "max": 1,
      "default": 0,
      "description": "Inverts the output.",
      "type": "toggle"
    },
    {
      "name": "Input_X",
      "min": 1,
      "max": null,
      "default": 1,
      "description": "Chooses the X input bus or channel for the operation. Defaults to bus 1.",
      "type": "enum",
      "is_bus": true
    },
    {
      "name": "Input_Y",
      "min": 1,
      "max": null,
      "default": 2,
      "description": "Chooses the Y input bus or channel for the operation. Defaults to bus 2.",
      "type": "enum",
      "is_bus": true
    },
    {
      "name": "Output_bus",
      "min": 0,
      "max": 28,
      "default": 15,
      "description": "Chooses the output bus. Defaults to Col5 (bus 15).",
      "enum_values": [
        "Col0",
        "Col1",
        "Col2",
        "Col3",
        "Col4",
        "Col5",
        "Col6",
        "Col7",
        "Row0",
        "Row1",
        "Row2",
        "Row3",
        "Row4",
        "Row5",
        "Row6",
        "Row7",
        "Bus 8-28"
      ],
      "type": "enum",
      "is_bus": true
    },
    {
      "name": "Output_mode",
      "min": 0,
      "max": 1,
      "default": 0,
      "description": "The standard Add/Replace mode selector. When set to 'Add' (1), outputs are added to the existing bus signal; when set to 'Replace' (0), they replace it.",
      "type": "enum"
    }
  ],
  "input_ports": [
    {
      "name": "X",
      "description": "Input for logical operations or comparator values. Can be CV or gate signals."
    },
    {
      "name": "Y",
      "description": "Input for logical operations or comparator values. Can be CV or gate signals."
    }
  ],
  "output_ports": [
    {
      "name": "Output",
      "description": "Logic output signal (gate/trigger) based on the selected operation and inputs. Outputs can be inverted via parameter control."
    }
  ]
}