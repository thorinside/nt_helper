{
  "guid": "pymu",
  "name": "Poly Multisample",
  "description": "This algorithm is inspired by the original 'SD Multisample' algorithm on the disting EX, with hints of the Crossfade Loop Synth VST plug-in and the 'Audio Playback with Crossfade' algorithm on the disting mk4. It is a polyphonic sample playback instrument that plays WAV files from the MicroSD card. The Poly Multisample can also record audio (i.e., sample in the traditional sense) and play it back, applying crossfade looping to create smooth looping pads out of any sample material. It supports multiple control methods including CV/gate, MIDI, or I2C, and features both velocity switches and round robins per sample. The algorithm leverages common polysynth features such as envelopes, microtuning, chords/arpeggiators, and routing parameters.",
  "categories": [
    "polyphonic",
    "sampling",
    "mixing",
    "routing",
    "arpeggiator",
    "external control"
  ],
  "short_description": "A polyphonic sample player",
  "specifications": [
    {
      "name": "Voices",
      "min": 1,
      "max": 16
    },
    {
      "name": "Record time",
      "min": 0,
      "max": 60
    }
  ],
  "parameters": [
    {
      "name": "Folder",
      "default": 0,
      "scope": "sample rate",
      "type": "string",
      "is_common": true
    },
    {
      "name": "Sample",
      "min": -1,
      "max": null,
      "default": -1,
      "description": "Allows you to choose a single sample within the folder to play, or '<MULTISAMPLE>' for the usual case where you want the algorithm to choose the sample automatically based on the note pitch.",
      "type": "string"
    },
    {
      "name": "Gain",
      "min": -40,
      "max": 24,
      "default": 0,
      "description": "Sets the output level.",
      "type": "enum",
      "is_common": true
    },
    {
      "name": "Pan",
      "min": -100,
      "max": 100,
      "default": 0,
      "description": "Sets the stereo pan position.",
      "type": "enum"
    },
    {
      "name": "Transpose",
      "min": -60,
      "max": 60,
      "default": 0,
      "description": "Adjusts the tuning in semitones.",
      "type": "enum"
    },
    {
      "name": "Fine tune",
      "min": -100,
      "max": 100,
      "default": 0,
      "description": "Adjusts the tuning in cents.",
      "type": "enum"
    },
    {
      "name": "Crossfade mode",
      "min": 0,
      "max": 2,
      "default": 0,
      "description": "Sets the crossfade looping mode: Off, Forwards, or Alternating. When set to 'Off', no crossfading occurs; when set to 'Forwards' or 'Alternating', crossfade looping is applied.",
      "type": "enum",
      "is_common": false,
      "is_bus": true
    },
    {
      "name": "Crossfade length",
      "min": 0.1,
      "max": 100.0,
      "default": 50.0,
      "description": "Sets the length of the crossfade, as a percentage of the loop time (the difference between the loop point and end trim point).",
      "type": "enum"
    },
    {
      "name": "Loop point coarse",
      "min": 0.0,
      "max": 100.0,
      "default": 0.0,
      "description": "Sets the loop point, as a percentage of the sample length.",
      "type": "enum"
    },
    {
      "name": "Loop point fine",
      "min": -500,
      "max": 500,
      "default": 0,
      "description": "Adjusts the loop point in sample frames, allowing for precise positioning beyond what coarse percentage offers.",
      "type": "enum"
    },
    {
      "name": "Sustain mode",
      "min": 0,
      "max": 1,
      "default": 0,
      "description": "The standard polysynth sustain mode parameter. See 'Common polysynth features'.",
      "type": "enum",
      "is_common": true
    },
    {
      "name": "Sustain",
      "min": 0,
      "max": 1,
      "default": 0,
      "description": "Directly controls the sustain (like a MIDI sustain pedal).",
      "type": "enum"
    },
    {
      "name": "Gate offset",
      "min": 0.0,
      "max": 10.0,
      "default": 0.2,
      "description": "Offsets (delays) the gate inputs relative to the pitch inputs, useful for allowing pitch CVs to settle before they are sampled on the rising gate and coping with modules that change gates first.",
      "type": "enum",
      "is_bus": true
    },
    {
      "name": "Round robin mode",
      "min": 0,
      "max": 3,
      "default": 0,
      "description": "The round-robin mode. See 'Common polysynth features'.",
      "type": "enum"
    },
    {
      "name": "Loop",
      "min": 0,
      "max": 2,
      "default": 0,
      "description": "'From WAV file' will loop if the sample has loop points defined in the file, and not otherwise. 'Off' forces no looping; 'On' forces continuous looping.",
      "type": "enum",
      "is_bus": true
    },
    {
      "name": "Bend range",
      "min": 0,
      "max": 48,
      "default": 2,
      "description": "The MIDI pitch bend range, measured in semitones.",
      "type": "enum"
    },
    {
      "name": "Confirm change",
      "min": 0,
      "max": 3,
      "default": 0,
      "description": "Sets whether the folder and/or sample changes immediately or requires confirmation. Values likely correspond to different combinations of immediate/confirm modes.",
      "type": "enum"
    },
    {
      "name": "Envelope",
      "min": 0,
      "max": 1,
      "default": 0,
      "description": "Enables an ADSR volume envelope. If disabled, the sample plays once until the end.",
      "type": "enum"
    },
    {
      "name": "Attack",
      "min": 0,
      "max": 127,
      "default": 0,
      "description": "Sets the envelope attack time (from 1ms to 15s, exponential response).",
      "type": "enum"
    },
    {
      "name": "Decay",
      "min": 0,
      "max": 127,
      "default": 60,
      "description": "Sets the envelope decay time (from 20ms to 15s, exponential response).",
      "type": "enum"
    },
    {
      "name": "Sustain level",
      "min": 0,
      "max": 100,
      "default": 100,
      "description": "Sets the envelope sustain level.",
      "type": "enum"
    },
    {
      "name": "Release",
      "min": 0,
      "max": 127,
      "default": 77,
      "description": "Sets the envelope release time (from 10ms to 30s, exponential response).",
      "type": "enum"
    },
    {
      "name": "Velocity sensitivity",
      "min": 0,
      "max": 100,
      "default": 100,
      "description": "Sets the amount by which note velocity affects note volume.",
      "type": "enum"
    },
    {
      "name": "Pressure to volume",
      "min": -100,
      "max": 100,
      "default": 0,
      "description": "The amount by which pressure (per note for MPE) affects the note volume.",
      "type": "enum"
    },
    {
      "name": "MPE Y to volume",
      "min": -100,
      "max": 100,
      "default": 0,
      "description": "The amount by which the MPE Y dimension affects the note volume.",
      "type": "enum"
    },
    {
      "name": "Left/mono output bus",
      "min": 1,
      "max": 28,
      "default": 13,
      "description": "The left or mono output bus.",
      "type": "enum"
    },
    {
      "name": "Right output bus",
      "min": 0,
      "max": 28,
      "default": 0,
      "description": "The right output bus.",
      "type": "enum"
    },
    {
      "name": "MIDI channel",
      "min": 0,
      "max": 16,
      "default": 1,
      "description": "The MIDI channel to listen on.",
      "type": "enum"
    },
    {
      "name": "MPE channels",
      "min": 1,
      "max": 16,
      "default": 1,
      "description": "Controls how the algorithm will respond to MPE (e.g., number of simultaneous MPE voices). See 'Common polysynth features'.",
      "type": "enum"
    },
    {
      "name": "I2C channel",
      "min": 0,
      "max": 255,
      "default": 1,
      "description": "Sets the I2C channel for communication.",
      "type": "enum"
    }
  ],
  "input_ports": [
    {
      "name": "CV/gate pitch",
      "description": "Accepts CV or gate signals to trigger notes and control pitch."
    },
    {
      "name": "MIDI input",
      "description": "Receives MIDI note events for triggering playback."
    },
    {
      "name": "I2C input",
      "description": "Listens on the specified I2C channel for note triggering and control data."
    }
  ],
  "output_ports": [
    {
      "name": "Left/mono output bus",
      "description": "Outputs audio to the left or mono bus, controlled by the 'Left/mono output' parameter."
    },
    {
      "name": "Right output bus",
      "description": "Outputs audio to the right bus, controlled by the 'Right output' parameter."
    }
  ]
}